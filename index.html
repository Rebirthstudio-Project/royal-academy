<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Rebirth Studio</title>

<style>
body{margin:0;font-family:Arial;background:#f6f6f6;}
header{
background:#520044;color:white;
padding:10px 15px;
display:flex;justify-content:space-between;align-items:center;
}
header input{padding:6px;width:35%;}
button{padding:6px 10px;border:none;border-radius:4px;cursor:pointer;margin:3px;}
.add{background:#2ecc71;color:white;}
.admin{background:#e74c3c;color:white;}
.container{display:flex;}
.sidebar{
width:230px;background:white;border-right:1px solid #ddd;
padding:15px;min-height:100vh;
}
.sidebar h3{margin-top:0;}
.sidebar div{margin-bottom:6px;cursor:pointer;color:#0645ad;}
.content{flex:1;padding:20px;background:white;}
.pageBox{border-bottom:1px solid #ddd;padding:10px 0;}
.pageBox img{max-width:200px;display:block;margin-top:5px;}
.commentBox{background:#f1f1f1;padding:8px;margin-top:5px;border-radius:4px;}
textarea{width:100%;padding:6px;}
</style>
</head>

<body>

<header>
<b>Rebirth Studio</b>
<div>
<button onclick="login()">‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á</button>
<button id="addProjectBtn" class="add" style="display:none;" onclick="addProject()">+ ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ</button>
</div>
</header>

<div class="container">

<div class="sidebar">
<h3>‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ</h3>
<div id="projectList"></div>
</div>

<div class="content">
<h2 id="titleArea">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö</h2>
<div id="contentArea"></div>
</div>

</div>

<script>

let adminPass="rebirthking";
let isAdmin=false;

let projects=JSON.parse(localStorage.getItem("rebirthData"))||[];

function save(){
localStorage.setItem("rebirthData",JSON.stringify(projects));
renderProjects();
}

function login(){
let p=prompt("‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á:");
if(p===adminPass){
isAdmin=true;
alert("‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á üëë");
document.getElementById("addProjectBtn").style.display="inline-block";
renderProjects();
}else{
alert("‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î");
}
}

function addProject(){
let name=prompt("‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ:");
if(!name)return;
projects.push({name:name,pages:[]});
save();
}

function renderProjects(){
let box=document.getElementById("projectList");
box.innerHTML="";
projects.forEach((proj,i)=>{
let div=document.createElement("div");
div.innerText=proj.name;
div.onclick=function(){openProject(i)};
box.appendChild(div);
});
}

function openProject(i){
let proj=projects[i];
document.getElementById("titleArea").innerText=proj.name;
let area=document.getElementById("contentArea");
area.innerHTML="";

if(isAdmin){
let btn=document.createElement("button");
btn.className="add";
btn.innerText="+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πâ‡∏≤";
btn.onclick=function(){addPage(i)};
area.appendChild(btn);
}

proj.pages.forEach((page,index)=>{
let div=document.createElement("div");
div.className="pageBox";
div.innerHTML="<h3>"+page.title+"</h3><p>"+page.content+"</p>";

if(page.image){
div.innerHTML+="<img src='"+page.image+"'>";
}

if(isAdmin){
div.innerHTML+=`
<br>
<button onclick="editPage(${i},${index})">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
<button class="admin" onclick="deletePage(${i},${index})">‡∏•‡∏ö</button>
`;
}

div.innerHTML+=`<h4>‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå</h4>`;

if(!page.comments) page.comments=[];

page.comments.forEach(c=>{
div.innerHTML+=`<div class="commentBox">${c}</div>`;
});

div.innerHTML+=`
<textarea id="comment_${i}_${index}" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå..."></textarea>
<button onclick="addComment(${i},${index})">‡∏™‡πà‡∏á</button>
`;

area.appendChild(div);
});
}

function addPage(projectIndex){
let title=prompt("‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤:");
let content=prompt("‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤:");
if(!title)return;

let input=document.createElement("input");
input.type="file";
input.accept="image/*";
input.onchange=function(e){
let reader=new FileReader();
reader.onload=function(ev){
projects[projectIndex].pages.push({
title:title,
content:content,
image:ev.target.result,
comments:[]
});
save();
openProject(projectIndex);
};
reader.readAsDataURL(e.target.files[0]);
};
input.click();
}

function editPage(pIndex,pageIndex){
let newContent=prompt("‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤:",projects[pIndex].pages[pageIndex].content);
if(newContent!==null){
projects[pIndex].pages[pageIndex].content=newContent;
save();
openProject(pIndex);
}
}

function deletePage(pIndex,pageIndex){
if(confirm("‡∏•‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ?")){
projects[pIndex].pages.splice(pageIndex,1);
save();
openProject(pIndex);
}
}

function addComment(pIndex,pageIndex){
let text=document.getElementById("comment_"+pIndex+"_"+pageIndex).value;
if(!text)return;
projects[pIndex].pages[pageIndex].comments.push(text);
save();
openProject(pIndex);
}

renderProjects();

</script>

</body>
</html>
