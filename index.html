<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏ä‡∏ß‡∏á‡∏®‡πå</title>

<style>
body{
font-family:sans-serif;
background:#0f172a;
color:white;
text-align:center;
margin:0;
}

header{
background:#1e293b;
padding:15px;
font-size:22px;
}

nav{
background:#111827;
padding:10px;
}

nav button{
margin:5px;
padding:8px 15px;
border:none;
border-radius:8px;
cursor:pointer;
}

.card{
background:#1e293b;
padding:10px;
margin:15px auto;
border-radius:12px;
width:90%;
max-width:400px;
cursor:pointer;
}

.card img{
width:100%;
border-radius:10px;
}

.detail-box{
display:none;
background:#1e293b;
padding:20px;
margin:20px;
border-radius:12px;
}

.admin-btn{
margin:5px;
padding:6px 12px;
border:none;
border-radius:6px;
cursor:pointer;
}

#addBtn{
display:none;
background:gold;
}

.discord-btn{
background:#5865F2;
color:white;
}
</style>
</head>

<body>

<header>üè∞ ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏ä‡∏ß‡∏á‡∏®‡πå</header>

<nav>
<button onclick="loginAdmin()">‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á</button>
<a href="https://discord.gg/BCJ8QnhNY" target="_blank">
<button class="discord-btn">‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡∏¥‡∏™</button>
</a>
</nav>

<h2>‚öî ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h2>

<button id="addBtn" onclick="showForm()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</button>

<div id="formArea" style="display:none; margin:15px;">
<input type="text" id="charName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£"><br><br>
<input type="text" id="charInfo" placeholder="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"><br><br>
<input type="text" id="charPower" placeholder="‡∏û‡∏•‡∏±‡∏á"><br><br>
<input type="text" id="charOrigin" placeholder="‡∏õ‡∏ê‡∏°‡∏ö‡∏ó"><br><br>

<button onclick="document.getElementById('charImage').click()">
üì∏ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
</button>

<input type="file"
id="charImage"
accept="image/*"
style="display:none"
onchange="saveCharacter()">
</div>

<div id="characterList"></div>
<div id="detailBox" class="detail-box"></div>

<script>
let isAdmin = false;
let adminCode = "royalking";
let characters = JSON.parse(localStorage.getItem("characters")) || [];

function saveToStorage(){
localStorage.setItem("characters", JSON.stringify(characters));
}

function loginAdmin(){
let code = prompt("‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô:");
if(code === adminCode){
isAdmin = true;
alert("‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á üëë");
document.getElementById("addBtn").style.display = "inline-block";
}else{
alert("‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
}
}

function showForm(editIndex=null){
if(!isAdmin) return;
document.getElementById("formArea").style.display = "block";

if(editIndex!==null){
let c = characters[editIndex];
document.getElementById("charName").value=c.name;
document.getElementById("charInfo").value=c.info;
document.getElementById("charPower").value=c.power;
document.getElementById("charOrigin").value=c.origin;
document.getElementById("charImage").dataset.edit=editIndex;
}else{
document.getElementById("charImage").dataset.edit="";
}
}

function saveCharacter(){
let name = document.getElementById("charName").value;
let info = document.getElementById("charInfo").value;
let power = document.getElementById("charPower").value;
let origin = document.getElementById("charOrigin").value;
let file = document.getElementById("charImage").files[0];
let editIndex = document.getElementById("charImage").dataset.edit;

if(!name || !info || !power || !origin){
alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");
return;
}

if(editIndex!==""){
characters[editIndex].name=name;
characters[editIndex].info=info;
characters[editIndex].power=power;
characters[editIndex].origin=origin;
saveToStorage();
renderCharacters();
return;
}

if(!file){
alert("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏Å‡πà‡∏≠‡∏ô");
return;
}

let reader = new FileReader();
reader.onload=function(e){
characters.push({
name:name,
info:info,
power:power,
origin:origin,
image:e.target.result
});
saveToStorage();
renderCharacters();
};
reader.readAsDataURL(file);

document.getElementById("formArea").style.display="none";
}

function renderCharacters(){
let list=document.getElementById("characterList");
list.innerHTML="";
characters.forEach((c,index)=>{
let card=document.createElement("div");
card.className="card";
card.innerHTML=`<img src="${c.image}"><h3>${c.name}</h3>`;
card.onclick=function(){showDetail(index);};
list.appendChild(card);
});
}

function showDetail(index){
let c=characters[index];
let box=document.getElementById("detailBox");
box.style.display="block";
box.innerHTML=`
<h2>${c.name}</h2>
<img src="${c.image}" style="width:100%;border-radius:10px;"><br><br>
<p><b>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</b> ${c.info}</p>
<p><b>‡∏û‡∏•‡∏±‡∏á:</b> ${c.power}</p>
<p><b>‡∏õ‡∏ê‡∏°‡∏ö‡∏ó:</b> ${c.origin}</p>
<br>
${isAdmin?`
<button class="admin-btn" onclick="editCharacter(${index})">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
<button class="admin-btn" onclick="deleteCharacter(${index})">‡∏•‡∏ö</button>
`:``}
<br><br>
<button onclick="closeDetail()">‡∏õ‡∏¥‡∏î</button>
`;
}

function editCharacter(index){
showForm(index);
}

function deleteCharacter(index){
if(confirm("‡∏•‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ô‡∏µ‡πâ?")){
characters.splice(index,1);
saveToStorage();
renderCharacters();
document.getElementById("detailBox").style.display="none";
}
}

function closeDetail(){
document.getElementById("detailBox").style.display="none";
}

renderCharacters();
</script>

</body>
       </html>
